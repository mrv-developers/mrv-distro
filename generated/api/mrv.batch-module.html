<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>mrv.batch</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="https://github.com/Byron/mrv">mrv</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="mrv-module.html">Package&nbsp;mrv</a> ::
        Module&nbsp;batch
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="mrv.batch-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module batch</h1><p class="nomargin-top"><span class="codelink"><a href="mrv.batch-pysrc.html">source&nbsp;code</a></span></p>
<p>This modules contains utilities to do opeations in batch mode. The 
  module can be used from within python if required, but is more commonly 
  used from the commandline, possibly wrapped by a shell script to 
  specialize its usae</p>

<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="mrv.batch-module.html#superviseJobs" class="summary-sig-name">superviseJobs</a>(<span class="summary-sig-arg">jobs</span>,
        <span class="summary-sig-arg">returnIfLessThan</span>,
        <span class="summary-sig-arg">cmdinput</span>,
        <span class="summary-sig-arg">errorstream</span>,
        <span class="summary-sig-arg">donestream</span>)</span><br />
      Check on the jobs we have and wait for finished ones.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.batch-pysrc.html#superviseJobs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="killProcess"></a><span class="summary-sig-name">killProcess</span>(<span class="summary-sig-arg">process</span>)</span><br />
      Kill the given process :note: raises if kill is not supported by the 
      os module</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.batch-pysrc.html#killProcess">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="mrv.batch-module.html#process" class="summary-sig-name">process</a>(<span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">args</span>,
        <span class="summary-sig-arg">inputList</span>,
        <span class="summary-sig-arg">errorstream</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">donestream</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">inputsPerProcess</span>=<span class="summary-sig-default">1</span>,
        <span class="summary-sig-arg">numJobs</span>=<span class="summary-sig-default">1</span>)</span><br />
      Launch process at cmd with args and a list of input objects from 
      inputList appended to args :param cmd: full path to tool you wish to 
      start, like /bin/bash :param args: List of all argument strings to be
      passed to cmd :param inputList: list of input files to be passed as 
      input to cmd :param errorstream: stream to which errors will be 
      written to as they occour if not None :param donestream: stream to 
      which items from input list will be passed once they have been 
      processed if not None.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.batch-pysrc.html#process">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr bgcolor="#e8f0f8" >
  <th colspan="2" class="group-header"
    >&nbsp;&nbsp;&nbsp;&nbsp;Command Line Tool</th></tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_usageAndExit"></a><span class="summary-sig-name">_usageAndExit</span>(<span class="summary-sig-arg">msg</span>=<span class="summary-sig-default">None</span>)</span><br />
      Print usage</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.batch-pysrc.html#_usageAndExit">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_toStream"></a><span class="summary-sig-name">_toStream</span>(<span class="summary-sig-arg">arg</span>,
        <span class="summary-sig-arg">stream</span>)</span><br />
      :return: stream according to arg :param stream: stream to return if 
      arg sais so</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.batch-pysrc.html#_toStream">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_popleftchecked"></a><span class="summary-sig-name">_popleftchecked</span>(<span class="summary-sig-arg">argv</span>,
        <span class="summary-sig-arg">errmsg</span>)</span><br />
      pop an arg from argv and return with an error message on error</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.batch-pysrc.html#_popleftchecked">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="main"></a><span class="summary-sig-name">main</span>(<span class="summary-sig-arg">*args</span>)</span><br />
      Processes the arguments</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.batch-pysrc.html#main">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__all__"></a><span class="summary-name">__all__</span> = <code title="None">None</code><br />
      hash(x)
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'mrv'"><code class="variable-quote">'</code><code class="variable-string">mrv</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="superviseJobs"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">superviseJobs</span>(<span class="sig-arg">jobs</span>,
        <span class="sig-arg">returnIfLessThan</span>,
        <span class="sig-arg">cmdinput</span>,
        <span class="sig-arg">errorstream</span>,
        <span class="sig-arg">donestream</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="mrv.batch-pysrc.html#superviseJobs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Check on the jobs we have and wait for finished ones. Write 
  information about them into the respective streams :param 
  returnIfLessThan: return once we have less than the given amount of 
  running jobs</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="process"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">process</span>(<span class="sig-arg">cmd</span>,
        <span class="sig-arg">args</span>,
        <span class="sig-arg">inputList</span>,
        <span class="sig-arg">errorstream</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">donestream</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">inputsPerProcess</span>=<span class="sig-default">1</span>,
        <span class="sig-arg">numJobs</span>=<span class="sig-default">1</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="mrv.batch-pysrc.html#process">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Launch process at cmd with args and a list of input objects from 
  inputList appended to args :param cmd: full path to tool you wish to 
  start, like /bin/bash :param args: List of all argument strings to be 
  passed to cmd :param inputList: list of input files to be passed as input
  to cmd :param errorstream: stream to which errors will be written to as 
  they occour if not None :param donestream: stream to which items from 
  input list will be passed once they have been processed if not None. 
  Items are newline terminated :param inputsPerProcess: pass the given 
  number of inputs to the cmd, or less if there are not enough items on the
  input list :param numJobs: number of processes we may run in parallel</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="https://github.com/Byron/mrv">mrv</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Nov 30 14:48:31 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
