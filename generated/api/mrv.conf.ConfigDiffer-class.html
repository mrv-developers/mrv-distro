<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>mrv.conf.ConfigDiffer</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="https://github.com/Byron/mrv">mrv</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="mrv-module.html">Package&nbsp;mrv</a> ::
        <a href="mrv.conf-module.html">Module&nbsp;conf</a> ::
        Class&nbsp;ConfigDiffer
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="mrv.conf.ConfigDiffer-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class ConfigDiffer</h1><p class="nomargin-top"><span class="codelink"><a href="mrv.conf-pysrc.html#ConfigDiffer">source&nbsp;code</a></span></p>
<pre class="base-tree">
object --+    
         |    
  <a href="mrv.conf.DiffData-class.html">DiffData</a> --+
             |
            <strong class="uidshort">ConfigDiffer</strong>
</pre>

<hr />
<p>Compares two configuration objects and allows retrieval of differences</p>
<p>Use this class to find added/removed sections or keys or differences in values
and properties.</p>
<dl class="rst-docutils">
<dt><strong>Example Applicance</strong>:</dt>
<dd>Test use it to verify that reading and writing a ( possibly ) changed
configuration has the expected results
Programs interacting with the User by a GUI can easily determine whether
the user has actually changed something, applying actions only if required
alternatively, programs can simply be more efficient by acting only on
items that actually changed</dd>
<dt><strong>Data Structure</strong>:</dt>
<dd><ul class="rst-first rst-simple">
<li>every object in the diffing structure has a 'name' attribute</li>
<li>ConfigDiffer.added|removed|unchanged: <a href="mrv.conf.Section-class.html" class="link">Section</a> objects that have been added, removed
or kept unchanged respectively</li>
<li>ConfigDiffer.changed: <a href="mrv.conf.DiffSection-class.html" class="link">DiffSection</a> objects that indicate the changes in respective section</li>
</ul>
<blockquote class="rst-last">
<ul class="rst-simple">
<li>DiffSection.added|removed|unchanged: <a href="mrv.conf.Key-class.html" class="link">Key</a> objects that have been added, removed or kept unchanged respectively</li>
<li>DiffSection.changed: <a href="mrv.conf.DiffKey-class.html" class="link">DiffKey</a> objects that indicate the changes in the repsective key</li>
</ul>
<blockquote>
<ul class="rst-simple">
<li>DiffKey.added|removed: the key's values that have been added and/or removed respectively</li>
<li>DiffKey.properties: see DiffSection.properties</li>
<li>DiffSection.properties:None if this is a section diff, otherwise it contains a DiffSection with the respective differences</li>
</ul>
</blockquote>
</blockquote>
</dd>
</dl>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="mrv.conf.ConfigDiffer-class.html#__str__" class="summary-sig-name">__str__</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Print its own delta information - useful for debugging purposes</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.conf-pysrc.html#ConfigDiffer.__str__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="mrv.conf.ConfigDiffer-class.html#_populate" class="summary-sig-name" onclick="show_private();">_populate</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">A</span>,
        <span class="summary-sig-arg">B</span>)</span><br />
      Perform the acutal diffing operation to fill our data structures
:note: this method directly accesses ConfigAccessors internal datastructures</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.conf-pysrc.html#ConfigDiffer._populate">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="mrv.conf.ConfigDiffer-class.html#applyTo" class="summary-sig-name">applyTo</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ca</span>)</span><br />
      Apply the stored differences in this ConfigDiffer instance to the given ConfigAccessor</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.conf-pysrc.html#ConfigDiffer.applyTo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="mrv.conf.DiffData-class.html">DiffData</a></code></b>:
      <code><a href="mrv.conf.DiffData-class.html#__init__">__init__</a></code>,
      <code><a href="mrv.conf.DiffData-class.html#hasDifferences">hasDifferences</a></code>,
      <code><a href="mrv.conf.DiffData-class.html#toStr">toStr</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS METHODS ==================== -->
<a name="section-ClassMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="mrv.conf.ConfigDiffer-class.html#_getMergedSections" class="summary-sig-name" onclick="show_private();">_getMergedSections</a>(<span class="summary-sig-arg">cls</span>,
        <span class="summary-sig-arg">configaccessor</span>)</span><br />
      within config nodes, sections must be unique, between nodes,
this is not the case - sets would simply drop keys with the same name
leading to invalid results - thus we have to merge equally named sections</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="mrv.conf-pysrc.html#ConfigDiffer._getMergedSections">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="mrv.conf.DiffData-class.html">DiffData</a></code></b>:
      <code><a href="mrv.conf.DiffData-class.html#added">added</a></code>,
      <code><a href="mrv.conf.DiffData-class.html#changed">changed</a></code>,
      <code><a href="mrv.conf.DiffData-class.html#name">name</a></code>,
      <code><a href="mrv.conf.DiffData-class.html#properties">properties</a></code>,
      <code><a href="mrv.conf.DiffData-class.html#removed">removed</a></code>,
      <code><a href="mrv.conf.DiffData-class.html#unchanged">unchanged</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__str__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__str__</span>(<span class="sig-arg">self</span>)</span>
    <br /><em class="fname">(Informal representation operator)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="mrv.conf-pysrc.html#ConfigDiffer.__str__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Print its own delta information - useful for debugging purposes
  <dl class="fields">
    <dt>Overrides:
        object.__str__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="_getMergedSections"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_getMergedSections</span>(<span class="sig-arg">cls</span>,
        <span class="sig-arg">configaccessor</span>)</span>
    <br /><em class="fname">Class Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="mrv.conf-pysrc.html#ConfigDiffer._getMergedSections">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  within config nodes, sections must be unique, between nodes,
this is not the case - sets would simply drop keys with the same name
leading to invalid results - thus we have to merge equally named sections
  <dl class="fields">
    <dt>Returns:</dt>
        <dd>BasicSet with merged sections</dd>
  </dl>
<div class="fields">      <p><strong>To Do:</strong>
        make this algo work on sets instead of individual sections for performance
      </p>
</div></td></tr></table>
</div>
<a name="_populate"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_populate</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">A</span>,
        <span class="sig-arg">B</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="mrv.conf-pysrc.html#ConfigDiffer._populate">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Perform the acutal diffing operation to fill our data structures
:note: this method directly accesses ConfigAccessors internal datastructures
  <dl class="fields">
    <dt>Overrides:
        <a href="mrv.conf.DiffData-class.html#_populate" onclick="show_private();">DiffData._populate</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="applyTo"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">applyTo</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">ca</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="mrv.conf-pysrc.html#ConfigDiffer.applyTo">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Apply the stored differences in this ConfigDiffer instance to the given ConfigAccessor</p>
<p>If our diff contains the changes of A to B, then applying
ourselves to A would make A equal B.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>ca</code></strong> - The configacceesor to apply our differences to</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd><p>tuple of lists containing the sections that could not be added, removed or get
their changes applied</p>
<blockquote>
<ul class="rst-simple">
<li>[0] = list of <a href="mrv.conf.Section-class.html" class="link">Section</a> s failed to be added</li>
<li>[1] = list of <a href="mrv.conf.Section-class.html" class="link">Section</a> s failed to be removed</li>
<li>[2] = list of <a href="mrv.conf.DiffSection-class.html" class="link">DiffSection</a> s failed to apply their changes</li>
</ul>
</blockquote></dd>
  </dl>
<div class="fields">      <p><strong>Note:</strong>
        individual nodes reqpresenting an input source ( like a file )
can be marked read-only. This means they cannot be altered - thus it can
be that section or key removal fails for them. Addition of elements normally
works as long as there is one writable node.
      </p>
</div></td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="https://github.com/Byron/mrv">mrv</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Nov 30 14:48:31 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
